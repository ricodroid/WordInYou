//
//  WordStore.swift
//  WordInYou
//
//  Created by riko on 2025/02/16.
//
import SwiftUI

class WordStore: ObservableObject {
    @Published var words: [Word] = []

    // üîπ „Ç¢„Éó„É™„ÅåÊåÅ„Å£„Å¶„ÅÑ„Çã„Éá„Éï„Ç©„É´„ÉàÂçòË™ûÔºà„Çª„É≥„ÉÜ„É≥„Çπ„Å™„ÅóÔºâ
    private let defaultWords: [Word] = [
        Word(word: "ability"),
        Word(word: "able"),
        Word(word: "about"),
        Word(word: "above"),
        Word(word: "accept"),
        Word(word: "according"),
        Word(word: "account"),
        Word(word: "across"),
        Word(word: "act"),
        Word(word: "action"),
        Word(word: "activity"),
        Word(word: "actually"),
        Word(word: "add"),
        Word(word: "address"),
        Word(word: "administration"),
        Word(word: "admit"),
        Word(word: "adult"),
        Word(word: "affect"),
        Word(word: "after"),
        Word(word: "again"),
        Word(word: "against"),
        Word(word: "age"),
        Word(word: "agency"),
        Word(word: "agent"),
        Word(word: "ago"),
        Word(word: "agree"),
        Word(word: "agreement"),
        Word(word: "ahead"),
        Word(word: "air"),
        Word(word: "all"),
        Word(word: "allow"),
        Word(word: "almost"),
        Word(word: "alone"),
        Word(word: "along"),
        Word(word: "already"),
        Word(word: "also"),
        Word(word: "although"),
        Word(word: "always"),
        Word(word: "American"),
        Word(word: "among"),
        Word(word: "amount"),
        Word(word: "analysis"),
        Word(word: "and"),
        Word(word: "animal"),
        Word(word: "another"),
        Word(word: "answer"),
        Word(word: "any"),
        Word(word: "anyone"),
        Word(word: "anything"),
        Word(word: "appear"),
        Word(word: "apply"),
        Word(word: "approach"),
        Word(word: "area"),
        Word(word: "argue"),
        Word(word: "arm"),
        Word(word: "around"),
        Word(word: "arrive"),
        Word(word: "art"),
        Word(word: "article"),
        Word(word: "artist"),
        Word(word: "as"),
        Word(word: "ask"),
        Word(word: "assume"),
        Word(word: "at"),
        Word(word: "attack"),
        Word(word: "attention"),
        Word(word: "attorney"),
        Word(word: "audience"),
        Word(word: "author"),
        Word(word: "authority"),
        Word(word: "available"),
        Word(word: "avoid"),
        Word(word: "away"),
        Word(word: "baby"),
        Word(word: "back"),
        Word(word: "bad"),
        Word(word: "bag"),
        Word(word: "ball"),
        Word(word: "bank"),
        Word(word: "bar"),
        Word(word: "base"),
        Word(word: "be"),
        Word(word: "beat"),
        Word(word: "beautiful"),
        Word(word: "because"),
        Word(word: "become"),
        Word(word: "bed"),
        Word(word: "before"),
        Word(word: "begin"),
        Word(word: "behavior"),
        Word(word: "behind"),
        Word(word: "believe"),
        Word(word: "benefit"),
        Word(word: "best"),
        Word(word: "better"),
        Word(word: "between"),
        Word(word: "beyond"),
        Word(word: "big"),
        Word(word: "bill"),
        Word(word: "billion"),
        Word(word: "bit"),
        Word(word: "black"),
        Word(word: "blood"),
        Word(word: "blue"),
        Word(word: "board"),
        Word(word: "body"),
        Word(word: "book"),
        Word(word: "born"),
        Word(word: "both"),
        Word(word: "box"),
        Word(word: "boy"),
        Word(word: "break"),
        Word(word: "bring"),
        Word(word: "brother"),
        Word(word: "budget"),
        Word(word: "build"),
        Word(word: "building"),
        Word(word: "business"),
        Word(word: "buy"),
        Word(word: "by"),
        Word(word: "call"),
        Word(word: "campaign"),
        Word(word: "can"),
        Word(word: "candidate"),
        Word(word: "capital"),
        Word(word: "car"),
        Word(word: "card"),
        Word(word: "care"),
        Word(word: "career"),
        Word(word: "carry"),
        Word(word: "case"),
        Word(word: "catch"),
        Word(word: "cause"),
        Word(word: "cell"),
        Word(word: "center"),
        Word(word: "central"),
        Word(word: "century"),
        Word(word: "certain"),
        Word(word: "certainly"),
        Word(word: "chair"),
        Word(word: "challenge"),
        Word(word: "chance"),
        Word(word: "change"),
        Word(word: "character"),
        Word(word: "charge"),
        Word(word: "check"),
        Word(word: "child"),
        Word(word: "choice"),
        Word(word: "choose"),
        Word(word: "church"),
        Word(word: "citizen"),
        Word(word: "city"),
        Word(word: "civil"),
        Word(word: "claim"),
        Word(word: "class"),
        Word(word: "clear"),
        Word(word: "clearly"),
        Word(word: "close"),
        Word(word: "coach"),
        Word(word: "cold"),
        Word(word: "collection"),
        Word(word: "college"),
        Word(word: "color"),
        Word(word: "come"),
        Word(word: "commercial"),
        Word(word: "common"),
        Word(word: "community"),
        Word(word: "company"),
        Word(word: "compare"),
        Word(word: "computer"),
        Word(word: "concern"),
        Word(word: "condition"),
        Word(word: "conference"),
        Word(word: "Congress"),
        Word(word: "consider"),
        Word(word: "consumer"),
        Word(word: "contain"),
        Word(word: "continue"),
        Word(word: "control"),
        Word(word: "cost"),
        Word(word: "could"),
        Word(word: "country"),
        Word(word: "couple"),
        Word(word: "course"),
        Word(word: "court"),
        Word(word: "cover"),
        Word(word: "create"),
        Word(word: "crime"),
        Word(word: "cultural"),
        Word(word: "culture"),
        Word(word: "cup"),
        Word(word: "current"),
        Word(word: "customer"),
        Word(word: "cut"),
        Word(word: "dark"),
        Word(word: "data"),
        Word(word: "daughter"),
        Word(word: "day"),
        Word(word: "dead"),
        Word(word: "deal"),
        Word(word: "death"),
        Word(word: "debate"),
        Word(word: "decade"),
        Word(word: "decide"),
        Word(word: "decision"),
        Word(word: "deep"),
        Word(word: "defense"),
        Word(word: "degree"),
        Word(word: "Democrat"),
        Word(word: "democratic"),
        Word(word: "describe"),
        Word(word: "design"),
        Word(word: "despite"),
        Word(word: "detail"),
        Word(word: "determine"),
        Word(word: "develop"),
        Word(word: "development"),
        Word(word: "difference"),
        Word(word: "different"),
        Word(word: "difficult"),
        Word(word: "direction"),
        Word(word: "director"),
        Word(word: "discover"),
        Word(word: "discuss"),
        Word(word: "discussion"),
        Word(word: "disease"),
        Word(word: "do"),
        Word(word: "doctor"),
        Word(word: "dog"),
        Word(word: "door"),
        Word(word: "down"),
        Word(word: "draw"),
        Word(word: "dream"),
        Word(word: "drive"),
        Word(word: "drop"),
        Word(word: "drug"),
        Word(word: "during"),
        Word(word: "each"),
        Word(word: "early"),
        Word(word: "east"),
        Word(word: "easy"),
        Word(word: "eat"),
        Word(word: "economic"),
        Word(word: "economy"),
        Word(word: "edge"),
        Word(word: "education"),
        Word(word: "effect"),
        Word(word: "effort"),
        Word(word: "eight"),
        Word(word: "either"),
        Word(word: "election"),
        Word(word: "else"),
        Word(word: "employee"),
        Word(word: "end"),
        Word(word: "energy"),
        Word(word: "enjoy"),
        Word(word: "enough"),
        Word(word: "enter"),
        Word(word: "entire"),
        Word(word: "environment"),
        Word(word: "environmental"),
        Word(word: "especially"),
        Word(word: "establish"),
        Word(word: "even"),
        Word(word: "evening"),
        Word(word: "event"),
        Word(word: "ever"),
        Word(word: "every"),
        Word(word: "everybody"),
        Word(word: "everyone"),
        Word(word: "everything"),
        Word(word: "evidence"),
        Word(word: "exactly"),
        Word(word: "example"),
        Word(word: "executive"),
        Word(word: "exist"),
        Word(word: "expect"),
        Word(word: "experience"),
        Word(word: "expert"),
        Word(word: "explain"),
        Word(word: "express"),
        Word(word: "extra"),
        Word(word: "eye"),
        Word(word: "face"),
        Word(word: "fact"),
        Word(word: "factor"),
        Word(word: "fail"),
        Word(word: "fall"),
        Word(word: "family"),
        Word(word: "far"),
        Word(word: "fast"),
        Word(word: "father"),
        Word(word: "fear"),
        Word(word: "federal"),
        Word(word: "feel"),
        Word(word: "feeling"),
        Word(word: "few"),
        Word(word: "field"),
        Word(word: "fight"),
        Word(word: "figure"),
        Word(word: "fill"),
        Word(word: "film"),
        Word(word: "final"),
        Word(word: "finally"),
        Word(word: "financial"),
        Word(word: "find"),
        Word(word: "fine"),
        Word(word: "finger"),
        Word(word: "finish"),
        Word(word: "fire"),
        Word(word: "firm"),
        Word(word: "first"),
        Word(word: "fish"),
        Word(word: "five"),
        Word(word: "floor"),
        Word(word: "fly"),
        Word(word: "focus"),
        Word(word: "follow"),
        Word(word: "food"),
        Word(word: "foot"),
        Word(word: "for"),
        Word(word: "force"),
        Word(word: "foreign"),
        Word(word: "forget"),
        Word(word: "form"),
        Word(word: "former"),
        Word(word: "forward"),
        Word(word: "four"),
        Word(word: "free"),
        Word(word: "friend"),
        Word(word: "from"),
        Word(word: "front"),
        Word(word: "full"),
        Word(word: "fund"),
        Word(word: "future"),
        Word(word: "game"),
        Word(word: "garden"),
        Word(word: "gas"),
        Word(word: "general"),
        Word(word: "generation"),
        Word(word: "get"),
        Word(word: "girl"),
        Word(word: "give"),
        Word(word: "glass"),
        Word(word: "go"),
        Word(word: "goal"),
        Word(word: "good"),
        Word(word: "government"),
        Word(word: "great"),
        Word(word: "green"),
        Word(word: "ground"),
        Word(word: "group"),
        Word(word: "grow"),
        Word(word: "growth"),
        Word(word: "guess"),
        Word(word: "gun"),
        Word(word: "guy"),
        Word(word: "hair"),
        Word(word: "half"),
        Word(word: "hand"),
        Word(word: "hang"),
        Word(word: "happen"),
        Word(word: "happy"),
        Word(word: "hard"),
        Word(word: "have"),
        Word(word: "he"),
        Word(word: "head"),
        Word(word: "health"),
        Word(word: "hear"),
        Word(word: "heart"),
        Word(word: "heat"),
        Word(word: "heavy"),
        Word(word: "help"),
        Word(word: "her"),
        Word(word: "here"),
        Word(word: "herself"),
        Word(word: "high"),
        Word(word: "him"),
        Word(word: "himself"),
        Word(word: "his"),
        Word(word: "history"),
        Word(word: "hit"),
        Word(word: "hold"),
        Word(word: "home"),
        Word(word: "hope"),
        Word(word: "hospital"),
        Word(word: "hot"),
        Word(word: "hotel"),
        Word(word: "hour"),
        Word(word: "house"),
        Word(word: "how"),
        Word(word: "however"),
        Word(word: "huge"),
        Word(word: "human"),
        Word(word: "hundred"),
        Word(word: "husband"),
        Word(word: "I"),
        Word(word: "idea"),
        Word(word: "identify"),
        Word(word: "if"),
        Word(word: "image"),
        Word(word: "imagine"),
        Word(word: "impact"),
        Word(word: "important"),
        Word(word: "improve"),
        Word(word: "in"),
        Word(word: "include"),
        Word(word: "including"),
        Word(word: "increase"),
        Word(word: "indeed"),
        Word(word: "indicate"),
        Word(word: "individual"),
        Word(word: "industry"),
        Word(word: "information"),
        Word(word: "inside"),
        Word(word: "instead"),
        Word(word: "institution"),
        Word(word: "interest"),
        Word(word: "interesting"),
        Word(word: "international"),
        Word(word: "interview"),
        Word(word: "into"),
        Word(word: "introduce"),
        Word(word: "investment"),
        Word(word: "involve"),
        Word(word: "issue"),
        Word(word: "it"),
        Word(word: "item"),
        Word(word: "its"),
        Word(word: "itself"),
        Word(word: "job"),
        Word(word: "join"),
        Word(word: "just"),
        Word(word: "keep"),
        Word(word: "key"),
        Word(word: "kid"),
        Word(word: "kill"),
        Word(word: "kind"),
        Word(word: "kitchen"),
        Word(word: "know"),
        Word(word: "knowledge"),
        Word(word: "land"),
        Word(word: "language"),
        Word(word: "large"),
        Word(word: "last"),
        Word(word: "late"),
        Word(word: "later"),
        Word(word: "laugh"),
        Word(word: "law"),
        Word(word: "lawyer"),
        Word(word: "lay"),
        Word(word: "lead"),
        Word(word: "leader"),
        Word(word: "learn"),
        Word(word: "least"),
        Word(word: "leave"),
        Word(word: "left"),
        Word(word: "leg"),
        Word(word: "legal"),
        Word(word: "less"),
        Word(word: "let"),
        Word(word: "letter"),
        Word(word: "level"),
        Word(word: "lie"),
        Word(word: "life"),
        Word(word: "light"),
        Word(word: "like"),
        Word(word: "likely"),
        Word(word: "line"),
        Word(word: "list"),
        Word(word: "listen"),
        Word(word: "little"),
        Word(word: "live"),
        Word(word: "local"),
        Word(word: "long"),
        Word(word: "look"),
        Word(word: "lose"),
        Word(word: "loss"),
        Word(word: "lot"),
        Word(word: "love"),
        Word(word: "low"),
        Word(word: "machine"),
        Word(word: "magazine"),
        Word(word: "main"),
        Word(word: "major"),
        Word(word: "majority"),
        Word(word: "make"),
        Word(word: "man"),
        Word(word: "manage"),
        Word(word: "management"),
        Word(word: "manager"),
        Word(word: "many"),
        Word(word: "market"),
        Word(word: "marriage"),
        Word(word: "material"),
        Word(word: "matter"),
        Word(word: "may"),
        Word(word: "maybe"),
        Word(word: "mean"),
        Word(word: "measure"),
        Word(word: "media"),
        Word(word: "medical"),
        Word(word: "meet"),
        Word(word: "meeting"),
        Word(word: "member"),
        Word(word: "memory"),
        Word(word: "mention"),
        Word(word: "message"),
        Word(word: "method"),
        Word(word: "middle"),
        Word(word: "might"),
        Word(word: "military"),
        Word(word: "million"),
        Word(word: "mind"),
        Word(word: "minute"),
        Word(word: "miss"),
        Word(word: "mission"),
        Word(word: "model"),
        Word(word: "modern"),
        Word(word: "moment"),
        Word(word: "money"),
        Word(word: "month"),
        Word(word: "more"),
        Word(word: "morning"),
        Word(word: "most"),
        Word(word: "mother"),
        Word(word: "mouth"),
        Word(word: "move"),
        Word(word: "movement"),
        Word(word: "movie"),
        Word(word: "much"),
        Word(word: "music"),
        Word(word: "must"),
        Word(word: "my"),
        Word(word: "myself"),
        Word(word: "name"),
        Word(word: "nation"),
        Word(word: "national"),
        Word(word: "natural"),
        Word(word: "nature"),
        Word(word: "near"),
        Word(word: "nearly"),
        Word(word: "necessary"),
        Word(word: "need"),
        Word(word: "network"),
        Word(word: "never"),
        Word(word: "new"),
        Word(word: "news"),
        Word(word: "newspaper"),
        Word(word: "next"),
        Word(word: "nice"),
        Word(word: "night"),
        Word(word: "no"),
        Word(word: "none"),
        Word(word: "nor"),
        Word(word: "north"),
        Word(word: "not"),
        Word(word: "note"),
        Word(word: "nothing"),
        Word(word: "notice"),
        Word(word: "now"),
        Word(word: "number"),
        Word(word: "occur"),
        Word(word: "off"),
        Word(word: "offer"),
        Word(word: "office"),
        Word(word: "officer"),
        Word(word: "official"),
        Word(word: "often"),
        Word(word: "oh"),
        Word(word: "oil"),
        Word(word: "ok"),
        Word(word: "old"),
        Word(word: "on"),
        Word(word: "once"),
        Word(word: "one"),
        Word(word: "only"),
        Word(word: "onto"),
        Word(word: "open"),
        Word(word: "operation"),
        Word(word: "opportunity"),
        Word(word: "option"),
        Word(word: "or"),
        Word(word: "order"),
        Word(word: "organization"),
        Word(word: "other"),
        Word(word: "others"),
        Word(word: "our"),
        Word(word: "ourselves"),
        Word(word: "out"),
        Word(word: "outside"),
        Word(word: "over"),
        Word(word: "own"),
        Word(word: "owner"),
        Word(word: "page"),
        Word(word: "pain"),
        Word(word: "painting"),
        Word(word: "paper"),
        Word(word: "parent"),
        Word(word: "part"),
        Word(word: "participant"),
        Word(word: "particular"),
        Word(word: "particularly"),
        Word(word: "partner"),
        Word(word: "party"),
        Word(word: "pass"),
        Word(word: "past"),
        Word(word: "patient")
        
    ]

    init() {
        loadWords()
        if words.isEmpty { // üîπ ÂàùÂõûËµ∑ÂãïÊôÇ„Å´„Éá„Éï„Ç©„É´„ÉàÂçòË™û„Çí„Çª„ÉÉ„Éà
            words = defaultWords
            saveWords()
        }
    }

    func addWord(_ word: Word) {
        words.append(word)
        saveWords()
    }

    func saveWords() {
        if let encoded = try? JSONEncoder().encode(words) {
            UserDefaults.standard.set(encoded, forKey: "SavedWords")
        }
    }

    func loadWords() {
        if let savedData = UserDefaults.standard.data(forKey: "SavedWords"),
           let decoded = try? JSONDecoder().decode([Word].self, from: savedData) {
            words = decoded
        }
    }

    func scheduleDailyNotification() {
        guard let randomWord = words.randomElement() else { return }
        NotificationManager.shared.scheduleNotification(for: randomWord)
    }
}
